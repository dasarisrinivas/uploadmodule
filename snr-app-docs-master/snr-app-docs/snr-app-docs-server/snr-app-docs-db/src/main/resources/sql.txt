delimiter $$

CREATE TABLE `analytical_data_nurse` (
  `ID` VARCHAR(16) NOT NULL,
  `ANLYTCL_DATE` date DEFAULT NULL,
  `HRS` int(11) DEFAULT NULL,
  `ACTUAL_CENSUS` int(11) DEFAULT NULL,
  `DAY_OF_THE_WEEK` int(11) DEFAULT NULL,
  `HOSPITAL_INFO_ID` int(11) DEFAULT NULL,
  `HOSPITAL_DEPT_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `HOSPITAL_ADN_ID_idx` (`HOSPITAL_INFO_ID`),
  KEY `DEPT_ADN_ID_idx` (`HOSPITAL_DEPT_ID`),
  CONSTRAINT `DEPT_ADN_ID` FOREIGN KEY (`HOSPITAL_DEPT_ID`) REFERENCES `hospital_dept` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `HOSPITAL_ADN_ID` FOREIGN KEY (`HOSPITAL_INFO_ID`) REFERENCES `hospital_info` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `analytical_data_nurse_dtls` (
  `ID` VARCHAR(16) NOT NULL,
  `ANALYTICAL_DATA_NURSE_ID` int(11) DEFAULT NULL,
  `DATA_COLLECTION_DT` datetime DEFAULT NULL,
  `ANALYTICAL_ENGINE_VERSION` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `ANALYTICAL_DATA_NURSE_idx` (`ANALYTICAL_DATA_NURSE_ID`),
  CONSTRAINT `ANALYTICAL_DATA_NURSE` FOREIGN KEY (`ANALYTICAL_DATA_NURSE_ID`) REFERENCES `analytical_data_nurse` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `hospital_dept` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NAME` varchar(999) NOT NULL,
  `NAME` varchar(999) DEFAULT NULL,
  `COMMENTS` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `HOSPITAL_INFO__ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `HOSPTL_INFO__ID_idx` (`HOSPITAL_INFO__ID`),
  CONSTRAINT `HOSPTL_INFO__ID` FOREIGN KEY (`HOSPITAL_INFO__ID`) REFERENCES `hospital_info` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `hospital_info` (
  `ID` VARCHAR(16) NOT NULL,
  `NAME` varchar(999) NOT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `COMMENTS` varchar(999) DEFAULT NULL,
  `HSPTL_MGMT__ID` int(11) DEFAULT NULL,
  `IT_EMAIL_ADDRESS` varchar(100) DEFAULT NULL,
  `BSNS_EMAIL_ADDRESS` varchar(100) DEFAULT NULL,
  `LOGO_URL` varchar(999) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `HSPTL_MGMT__ID_idx` (`HSPTL_MGMT__ID`),
  CONSTRAINT `HSPTL_MGMT__ID` FOREIGN KEY (`HSPTL_MGMT__ID`) REFERENCES `hospital_mgmt` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `hospital_mgmt` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(999) DEFAULT NULL,
  `NAME` varchar(99) DEFAULT NULL,
  `COMMENTS` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_acuity` (
  `ID` VARCHAR(16) NOT NULL,
  `NAME` varchar(45) NOT NULL,
  `DISPLAY_NM` varchar(45) NOT NULL,
  `DESCR` varchar(999) NOT NULL,
  `EXP_DT` datetime DEFAULT NULL,
  `MSTR_CODE` char(10) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `MSTR_CODE_UNIQUE` (`MSTR_CODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_ed_dispo` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(45) NOT NULL,
  `NAME` varchar(45) NOT NULL,
  `DESCR` varchar(999) NOT NULL,
  `EXP_DT` datetime DEFAULT NULL,
  `MSTR_CD` char(10) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `MSTR_CD_UNIQUE` (`MSTR_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_moa` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(45) NOT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `DESCRIPTION` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `MSTR_CD` char(10) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `MSTR_CD_UNIQUE` (`MSTR_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_patient_condition` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(45) DEFAULT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `DESCRIPTION` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `MSTR_CD` char(10) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `MSTR_CD_UNIQUE` (`MSTR_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_security_group` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(45) DEFAULT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `DESCRIPTION` varchar(45) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `PARENT_MSTR_GROUP__ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `MSTR_GRP_idx` (`PARENT_MSTR_GROUP__ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_security_role` (
  `ID` VARCHAR(16) NOT NULL,
  `DISPLAY_NM` varchar(45) DEFAULT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `DESCRIPTION` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `mstr_security_user` (
  `ID` VARCHAR(16) NOT NULL,
  `FNAME` varchar(45) DEFAULT NULL,
  `LNAME` varchar(45) DEFAULT NULL,
  `DISPLAY_NM` varchar(999) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  `FORGOT_PSWD_EMAIL_ADD` varchar(100) DEFAULT NULL,
  `USER_ID` varchar(100) DEFAULT NULL,
  `ACCNT_LCKD` char(1) DEFAULT 'N',
  `PASSWORD` varchar(45) DEFAULT NULL,
  `MSTR_GROUP_ID` int(11) DEFAULT NULL,
  `HOSPITAL_ID` int(11) DEFAULT NULL,
  `HOSPITAL_DEPT_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `GRP_ID_idx` (`MSTR_GROUP_ID`),
  KEY `USER_X_HSPTL_ID_idx` (`HOSPITAL_ID`),
  KEY `USER_X_HSPTL_DEPT_ID_idx` (`HOSPITAL_DEPT_ID`),
  CONSTRAINT `USER_X_GRP_ID` FOREIGN KEY (`MSTR_GROUP_ID`) REFERENCES `mstr_security_group` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `USER_X_HSPTL_DEPT_ID` FOREIGN KEY (`HOSPITAL_DEPT_ID`) REFERENCES `hospital_dept` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `USER_X_HSPTL_ID` FOREIGN KEY (`HOSPITAL_ID`) REFERENCES `hospital_info` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `patient_basic_info` (
  `ID` VARCHAR(16) NOT NULL,
  `GENDER` varchar(1) NOT NULL,
  `AGE` int(11) DEFAULT NULL,
  `DOB` date DEFAULT NULL,
  `RACE_CD` varchar(45) DEFAULT NULL,
  `REGISTERED_DT` date DEFAULT NULL,
  `HOSP_INTERNAL_ID` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `patient_visit` (
  `ID` VARCHAR(16) NOT NULL,
  `ARRIVAL_DT_TME` datetime DEFAULT NULL,
  `DIS_DT_TME` datetime DEFAULT NULL,
  `LOS` time DEFAULT NULL,
  `MSTR_ACUITY__CD` char(10) DEFAULT NULL,
  `ROOM_NO` varchar(45) DEFAULT NULL,
  `MSTR_ED_DISPO__CD` char(10) DEFAULT NULL,
  `PATIENT_BASIC_INFO__ID` int(11) DEFAULT NULL,
  `MSTR_MOA__CD` char(10) DEFAULT NULL,
  `DISPOSITION` varchar(45) DEFAULT NULL,
  `MSTR_PTNT_CNDTN__CD` char(10) DEFAULT NULL,
  `HOSPITAL_INFO__ID` int(11) DEFAULT NULL,
  `HOSPITAL_DEPT__ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `E_idx` (`MSTR_ACUITY__CD`),
  KEY `ED_DISPO_CD_X_MSTR_ED_DISPO_CD_idx` (`MSTR_ED_DISPO__CD`),
  KEY `PTNT_BSC_CD_idx` (`PATIENT_BASIC_INFO__ID`),
  KEY `MOA_CD_idx` (`MSTR_MOA__CD`),
  KEY `HSPTL_INFO_ID_idx` (`HOSPITAL_INFO__ID`),
  KEY `HSPTL_DEPT_ID_idx` (`HOSPITAL_DEPT__ID`),
  KEY `PTNT_CNDTN_idx` (`MSTR_PTNT_CNDTN__CD`),
  CONSTRAINT `ACUITY_CD_X_MSTR_ACUITY_CD` FOREIGN KEY (`MSTR_ACUITY__CD`) REFERENCES `mstr_acuity` (`MSTR_CODE`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `ED_DISPO_CD_X_MSTR_ED_DISPO_CD` FOREIGN KEY (`MSTR_ED_DISPO__CD`) REFERENCES `mstr_ed_dispo` (`MSTR_CD`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `HSPTL_DEPT_ID` FOREIGN KEY (`HOSPITAL_DEPT__ID`) REFERENCES `hospital_dept` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `HSPTL_INFO_ID` FOREIGN KEY (`HOSPITAL_INFO__ID`) REFERENCES `hospital_info` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `MOA_CD` FOREIGN KEY (`MSTR_MOA__CD`) REFERENCES `mstr_moa` (`MSTR_CD`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `PTNT_BSC_INFO` FOREIGN KEY (`PATIENT_BASIC_INFO__ID`) REFERENCES `patient_basic_info` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `PTNT_CNDTN` FOREIGN KEY (`MSTR_PTNT_CNDTN__CD`) REFERENCES `mstr_patient_condition` (`MSTR_CD`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `patient_vst_geo_location` (
  `ID` VARCHAR(16) NOT NULL,
  `PATIENT_VISIT__ID` int(11) DEFAULT NULL,
  `RECORDING_TIME` datetime DEFAULT NULL,
  `GEOLOCATION_X` varchar(200) DEFAULT NULL,
  `GEO_LOCATION_Y` varchar(200) DEFAULT NULL,
  `GEO_LOCATION_Z` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `THIS_X_PTNT_VST__ID_idx` (`PATIENT_VISIT__ID`),
  CONSTRAINT `THIS_X_PTNT_VST__ID` FOREIGN KEY (`PATIENT_VISIT__ID`) REFERENCES `patient_visit` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


delimiter $$

CREATE TABLE `scrty_grp_x_scrty_role` (
  `ID` VARCHAR(16) NOT NULL,
  `MSTR_SCRTY_GRP_ID` int(11) DEFAULT NULL,
  `MSTR_SCRTY_ROLE_ID` int(11) DEFAULT NULL,
  `EXPIRY_DT` datetime DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `GRP_ID_idx` (`MSTR_SCRTY_GRP_ID`),
  KEY `ROLE_ID_idx` (`MSTR_SCRTY_ROLE_ID`),
  CONSTRAINT `GRP_ID` FOREIGN KEY (`MSTR_SCRTY_GRP_ID`) REFERENCES `mstr_security_group` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `ROLE_ID` FOREIGN KEY (`MSTR_SCRTY_ROLE_ID`) REFERENCES `mstr_security_role` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


